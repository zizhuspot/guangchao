---
title: 《信息安全工程师》学习第七天
date: 2023-8-12 23:48:49
categories:
  - 记录
tags:
  - 信息安全
  - 网络安全
  - 网络攻防
  - 病毒
  - 密钥
description: 基于中国软考《信息安全工程师》教材，将每天学习内容摘抄至此。
cover: https://s2.loli.net/2023/08/06/39iqWlh14pUZyGP.png
---
## 写在前面
本文全部内容摘自《信息安全工程师》教材，通过博客方式记录每天学习内容和进度。同时也让感兴趣的人能够一同学习。本文只作学习交流使用，如要商用，请联系该书出版社和作者，PS：博客内容偏理论，请知悉。如果侵权，请告知，立删博文！
## 网络攻击常见的技术方法
### 端口扫描
端口扫描的目的是找出目标系统上提供的服务列表。端口扫描程序挨个尝试与TCP/UDP端口连接，然后根据端口与服务的对应关系，结合服务器端的反应推断目标系统上是否运行了某项服务，
扫描可以分成多种类型：
#### 完全连接扫描
完全连接扫描利用TCP/IP协议的三次握手连接机制，使源主机和目的主机的某个端口建立一次完整的连接。如果建立成功，则表明该端口开放。否则，表明该端口关闭。
#### 半连接扫描
半连接扫描是指在源主机和目的主机的三次握手连接过程中，只完成前两次握手，不建立一次完整的连接。
#### SYN扫描
首先向目标主机发送连接请求，当目标主机返回响应后，立即切断连接过程，并查看响应情况。如果目标主机返回ACK信息，表示目标主机的该端口开放。如果目标主机返回RESET信息，表示该端口没有开放。
PS：TCP SYN扫描又称“半开扫描”。在TCP连接的三次握手中，发起方会先发送一个SYN数据包，服务方会在接收到这个SYN数据包后，如果该端口处于侦听状态，就会回复一个SYN|ACK的数据包；如果该端口没有处于侦听状态，则会回复一个RST的数据包。
此时如果发起方仍然想要建立连接，就需要再向服务方回复一个ACK数据包。这时，服务方就认为连接已经建立，并会记录在日志中。无论服务方回复SYN|ACK的数据包还是回复RST的数据包，发起方其实已经能够判断服务方的端口是否处于“开”放状态。
之后的ACK数据包发送则被服务方监视，如果此时不发送ACK数据包，而是发一个RST数据包，则不仅关闭了这个未完成的连接过程，而且也不会被服务方记录。因为这种扫描方式使用了SYN标志位，所以被称为TCP SYN扫描。这种扫描技术的优点在于一般
不会在目标计算机上留下记录，在有些情况下即使用netstat命令也无法显示；但这种方法的一个缺点是必须要有管理员权限才能建立自己的SYN数据包。
####ID头信息扫描
这种扫描方法需要用一台第三方机器配合扫描，并且这台机器的网络通信量要非常少，即dumb主机。
首先由源主机A向dumb主机B发出连续的PING数据包，并且查看主机B返回的数据包的ID头信息。一般而言，每个顺序数据包的ID头的值会增加1。然后由源主机A假冒主机B的地址向目的主机C的任意端口（1～65535）发送SYN数据包。这时，主机C向主机B发送的数据包有两种
可能的结果：
· SYN|ACK表示该端口处于监听状态。
· RST|ACK表示该端口处于非监听状态。
那么，由后续PING数据包的响应信息的ID头信息可以看出，如果主机C的某个端口是开放的，则主机B返回A的数据包中，ID头的值不是递增1，而是大于1。如果主机C的某个端口是非开放的，则主机B返回A的数据包中，ID头的值递增1，非常规律。
#### SYN|ACK扫描
由源主机向目标主机的某个端口直接发送SYN|ACK数据包，而不是先发送SYN数据包。由于这种方法不发送SYN数据包，目标主机会认为这是一次错误的连接，从而会报错。
如果目标主机的该端口没有开放，则会返回RST信息。如果目标主机的该端口处于开放状态（LISTENING），则不会返回任何信息，而是直接将这个数据包抛弃掉。
#### SYN|ACK扫描
由源主机向目标主机的某个端口直接发送SYN|ACK数据包，而不是先发送SYN数据包。由于这种方法不发送SYN数据包，目标主机会认为这是一次错误的连接，从而会报错。
如果目标主机的该端口没有开放，则会返回RST信息。如果目标主机的该端口处于开放状态（LISTENING），则不会返回任何信息，而是直接将这个数据包抛弃掉。
#### ACK扫描
首先由主机A向目标主机B发送FIN数据包，然后查看反馈数据包的TTL值和WIN值。开放端口所返回的数据包的TTL值一般小于64，而关闭端口的返回值一般大于64。开放端口所返回的数据包的WIN值一般大于0，而关闭端口的返回值一般等于0。
#### NULL扫描
将源主机发送的数据包中的ACK、FIN、RST、SYN、URG、PSH等标志位全部置空。如果目标主机没有返回任何信息，则表明该端口是开放的。如果返回RST信息，则表明该端口是关闭的。
#### XMAS扫描
XMAS扫描的原理和NULL扫描相同，只是将要发送的数据包中的ACK、FIN、RST、SYN、URG、PSH等头标志位全部置成1。如果目标主机没有返回任何信息，则表明该端口是开放的。如果返回RST信息，则表明该端口是关闭的。
网络端口扫描是攻击者必备的技术，通过扫描可以掌握攻击目标的开放服务，根据扫描所获得的信息，为下一步的攻击做准备。
### 口令破解
口令机制是资源访问控制的第一道屏障。网络攻击者常常以破解用户的弱口令为突破口，获取系统的访问权限。随着计算机硬件和软件技术的发展，口令破解更为有效。攻击者可将千倍于10年前的计算能力用于口令攻击。在一台工作站上，
对包含250000个词条的字典搜索一遍的时间可降至5分钟。据调查研究，普通用户在口令字符的选择上，仅含小写字母的占28.9%，部分含有大写字母的占40.9%，含有控制字符的仅占1.4%，含有标点字号的仅占12.4%，含有非字母数字的仅占1.7%。
直接选用注册时的用户信息（如用户名、电话及用户ID）做密码的占3.9%。总地来说，20%到30%的口令可通过对字典或常用字符表进行搜索或经过简单的置换发现。目前，有专用的口令攻击软件，这些软件能够针对不同的系统进行攻击。
此外，一些远程网络服务的口令破解软件也开始出现，攻击者利用这些软件工具，进行远程猜测网络服务口令，
### 缓冲区溢出
缓冲区溢出攻击可以使攻击者有机会获得一台主机的部分或全部的控制权。据统计，缓冲区溢出攻击占远程网络攻击的绝大多数。缓冲区溢出成为远程攻击主要方式的原因是，缓冲区溢出漏洞会给予攻击者控制程序执行流程的机会。
攻击者将特意构造的攻击代码植入有缓冲区溢出漏洞的程序之中，改变漏洞程序的执行过程，就可以得到被攻击主机的控制权，详见下图：
![缓冲区溢出](https://s2.loli.net/2023/08/13/UPZSvj6VKuNDcxz.png)
### 恶意代码
恶意代码是网络攻击常见的攻击手段。常见的恶意代码类型有计算机病毒、网络蠕虫、特洛伊木马、后门、逻辑炸弹、僵尸网络等。其中，网络蠕虫程序是1988年由小莫里斯编制的，该程序具有复制传播功能，可以感染UNIX系统主机，
使网上6000多台主机无法运行；2001年8月，红色代码蠕虫病毒利用微软Web服务器IIS4.0或5.0中index服务的安全缺陷，通过自动扫描感染方式传播蠕虫；2010年“震网”网络蠕虫是首个专门用于定向攻击真实世界中基础（能源）设施的恶意代码。
### 拒绝服务
拒绝服务
拒绝服务攻击是指攻击者利用系统的缺陷，执行一些恶意的操作，使得合法的系统用户不能及时得到应得的服务或系统资源，如CPU处理时间、存储器、网络带宽等。拒绝服务攻击往往造成计算机或网络无法正常工作，进而会使一个依赖于计算机或网络服务的企业不能正常运转。
拒绝服务攻击最本质的特征是延长服务等待时间。当服务等待时间超过某个阈值时，用户因无法忍耐而放弃服务。拒绝服务攻击延迟或者阻碍合法的用户使用系统提供的服务，对关键性和实时性服务造成的影响最大。拒绝服务攻击与其他的攻击方法相比较，具有以下特点：
①难确认性，拒绝服务攻击很难判断，用户在自己的服务得不到及时响应时，并不认为自己（或者系统）受到攻击，反而可能认为是系统故障造成一时的服务失效。
②隐蔽性，正常请求服务隐藏拒绝服务攻击的过程。
③资源有限性，由于计算机资源有限，容易实现拒绝服务攻击。
④软件复杂性，由于软件所固有的复杂性，设计实现难以确保软件没有缺陷。因而攻击者有机可乘，可以直接利用软件缺陷进行拒绝服务攻击，例如泪滴攻击。
常见拒绝服务的攻击方式：
#### 同步包风暴（SYN Flood）
攻击者假造源网址（Source IP）发送多个同步数据包（Syn Packet）给服务器（Server），服务器因无法收到确认数据包（Ack Packet），使TCP/IP协议的三次握手（Three-Way Hand-Shacking）无法顺利完成，因而无法建立连接。其原理是发送大量半连接状态的服务请求
，使Unix等服务主机无法处理正常的连接请求，因而影响正常运作。
#### UDP洪水（UDP Flood）
利用简单的TCP/IP服务，如用Chargen和Echo传送毫无用处的占满带宽的数据。通过伪造与某一主机的Chargen服务之间的一次UDP连接，回复地址指向开放Echo服务的一台主机，生成在两台主机之间的足够多的无用数据流。
#### Smurf攻击
一种简单的Smurf攻击是将回复地址设置成目标网络广播地址的ICMP应答请求数据包，使该网络的所有主机都对此ICMP应答请求作出应答，导致网络阻塞，比ping of death洪水的流量高出一或两个数量级。更加复杂的Smurf攻击是将源地址改为第三方的目标网络，
最终导致第三方网络阻塞。
#### 垃圾邮件
攻击者利用邮件系统制造垃圾信息，甚至通过专门的邮件炸弹（mail bomb）程序给受害用户的信箱发送垃圾信息，耗尽用户信箱的磁盘空间，使用户无法应用这个信箱。
#### 消耗CPU和内存资源的拒绝服务攻击
利用目标系统的计算算法漏洞，构造恶意输入数据集，导致目标系统的CPU或内存资源耗尽，从而使目标系统瘫痪，如Hash DoS。
#### 死亡之ping（ping of death）
早期，路由器对包的最大尺寸都有限制，许多操作系统在实现TCP/IP堆栈时，规定ICMP包小于等于64KB，并且在对包的标题头进行读取之后，要根据该标题头中包含的信息为有效载荷生成缓冲区。当产生畸形的、尺寸超过ICMP上限的包，
即加载的尺寸超过64KB上限时，就会出现内存分配错误，导致TCP/IP堆栈崩溃，使接收方停机
#### 泪滴攻击（Teardrop Attack）
泪滴攻击暴露出IP数据包分解与重组的弱点。当IP数据包在网络中传输时，会被分解成许多不同的片传送，并借由偏移量字段（OffsetField）作为重组的依据。泪滴攻击通过加入过多或不必要的偏移量字段，使计算机系统重组错乱，产生不可预期的后果。
#### 分布式拒绝服务攻击（Distributed Denial of Service Attack）
分布式拒绝服务攻击是指植入后门程序从远程遥控攻击，攻击者从多个已入侵的跳板主机控制数个代理攻击主机，所以攻击者可同时对已控制的代理攻击主机激活干扰命令，对受害主机大量攻击。分布式拒绝服务攻击程序，
最著名的有Trinoo、TFN、TFN2K和Stacheldraht四种。













